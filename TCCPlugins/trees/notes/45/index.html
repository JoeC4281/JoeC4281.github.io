<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><title>FILTERFILES</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
body {
 margin: 5px 5px 5px 5px;
 background-color: #ffffff;
}
/* ========== Text Styles ========== */
hr { color: #000000}
body, table, span.rvts0 /* Normal text */
{
 font-size: 10pt;
 font-family: 'Arial', 'Helvetica', sans-serif;
 font-style: normal;
 font-weight: normal;
 color: #000000;
 text-decoration: none;
}
span.rvts1 /* Heading */
{
 font-weight: bold;
 color: #0000ff;
}
span.rvts2 /* Subheading */
{
 font-weight: bold;
 color: #000080;
}
span.rvts3 /* Keywords */
{
 font-style: italic;
 color: #800000;
}
a.rvts4, span.rvts4 /* Jump 1 */
{
 color: #008000;
 text-decoration: underline;
}
a.rvts5, span.rvts5 /* Jump 2 */
{
 color: #008000;
 text-decoration: underline;
}
span.rvts6
{
 font-size: 16pt;
 font-family: 'Courier New', 'Courier', monospace;
}
span.rvts7
{
}
span.rvts8
{
 font-family: 'Verdana', 'Geneva', sans-serif;
}
span.rvts9
{
 font-family: 'Tahoma', 'Geneva', sans-serif;
}
span.rvts10
{
 font-size: 8pt;
 font-family: 'Tahoma', 'Geneva', sans-serif;
}
span.rvts11
{
 font-size: 8pt;
 font-family: 'Verdana', 'Geneva', sans-serif;
}
span.rvts12
{
 font-size: 8pt;
 font-family: 'Tahoma', 'Geneva', sans-serif;
 font-weight: bold;
}
a.rvts13, span.rvts13
{
 font-size: 8pt;
 font-family: 'Verdana', 'Geneva', sans-serif;
 color: #0000ff;
 text-decoration: underline;
}
span.rvts14
{
 font-size: 12pt;
 font-family: 'Verdana', 'Geneva', sans-serif;
 color: #000000;
}
span.rvts15
{
 font-size: 14pt;
 font-family: 'consolas';
 font-weight: bold;
 color: #000000;
}
span.rvts16
{
 font-size: 14pt;
 font-family: 'consolas';
 color: #000000;
}
span.rvts17
{
 font-size: 12pt;
 font-family: 'Palatino Linotype', 'Palatino', serif;
 font-style: italic;
 color: #000088;
}
span.rvts18
{
 font-size: 12pt;
 font-family: 'Palatino Linotype', 'Palatino', serif;
 font-style: italic;
 font-weight: bold;
 color: #000088;
}
span.rvts19
{
 font-family: 'Verdana', 'Geneva', sans-serif;
 color: #000000;
}
a.rvts20, span.rvts20
{
 font-size: 14pt;
 font-family: 'consolas';
 color: #0000ff;
 text-decoration: none;
}
a.rvts20:hover
{
 color: #000000;
}
a.rvts21, span.rvts21
{
 font-size: 12pt;
 font-family: 'Verdana', 'Geneva', sans-serif;
 color: #0000ff;
 text-decoration: none;
}
a.rvts21:hover
{
 color: #000000;
}
span.rvts22
{
 font-family: 'Verdana', 'Geneva', sans-serif;
 color: #000000;
}
span.rvts23
{
 font-size: 12pt;
 font-family: 'Verdana', 'Geneva', sans-serif;
 font-style: italic;
 color: #000000;
}
span.rvts24
{
 font-family: 'Verdana', 'Geneva', sans-serif;
 color: #000000;
 background-color: #dddddd;
}
/* ========== Para Styles ========== */
p,ul,ol /* Paragraph Style */
{
 text-align: left;
 text-indent: 0px;
 padding: 0px 0px 0px 0px;
 margin: 0px 0px 0px 0px;
}
.rvps1 /* Centered */
{
 text-align: center;
}
.rvps2
{
 line-height: 1.20;
}
.rvps3
{
 background: #ffffff;
 margin: 7px 0px 7px 0px;
}
.rvps4
{
 margin: 0px 0px 16px 32px;
}
.rvps5
{
 background: #eeeeee;
 padding: 8px 16px 8px 16px;
 margin: 8px 0px 16px 16px;
}
/* ========== Lists ========== */
.list0 {text-indent: 0px; padding: 0; margin: 0 0 0 48px; list-style-position: outside;}
--></style>
</head>
<body style="background-color:#FFFFFF;" >
<p class=rvps3><span class=rvts14>Passes files through a text filter command.</span></p>
<p class=rvps3><span class=rvts14>Syntax:</span><br><span class=rvts15>FILTERFILES</span><span class=rvts16> /B:.</span><span class=rvts17>ext</span><span class=rvts16> /C /J /N /P /Q /S /UTF8 /UTF16 </span><span class=rvts18>filespec…</span><span class=rvts15> : </span><span class=rvts18>command</span><span class=rvts16> </span><span class=rvts17>args…</span></p>
<div class=rvps4>
<table border=0 cellpadding=8 cellspacing=2 style="border-width: 0px; background-color: #ffffff; border-spacing: 2px;">
 <tr valign=top>
  <td valign=top style="padding: 1px 16px;">
   <p><span class=rvts16>/B:.</span><span class=rvts17>ext</span></p>
  </td>
  <td valign=top style="padding: 1px 16px;">
   <p><span class=rvts14>extension for backups; the default is .</span><span class=rvts19>ORIGINAL</span></p>
  </td>
 </tr>
 <tr valign=top>
  <td valign=top style="padding: 1px 16px;">
   <p><span class=rvts16>/C</span></p>
  </td>
  <td valign=top style="padding: 1px 16px;">
   <p><span class=rvts14>do not abort if the </span><span class=rvts18>command</span><span class=rvts14> exits with errorlevel 3</span></p>
  </td>
 </tr>
 <tr valign=top>
  <td valign=top style="padding: 1px 16px;">
   <p><a class=rvts20 href="file:///E:/Utils/textutils.html#ffc_swn">/N</a></p>
  </td>
  <td valign=top style="padding: 1px 16px;">
   <p><span class=rvts14>not really</span></p>
  </td>
 </tr>
 <tr valign=top>
  <td valign=top style="padding: 1px 16px;">
   <p><a class=rvts20 href="file:///E:/Utils/textutils.html#ffc_swn">/N</a></p>
  </td>
  <td valign=top style="padding: 1px 16px;">
   <p><span class=rvts14>disable features</span></p>
  </td>
 </tr>
 <tr valign=top>
  <td valign=top style="padding: 1px 16px;">
   <p><a class=rvts20 href="file:///E:/Utils/textutils.html#ffc_swj">/J</a></p>
  </td>
  <td valign=top style="padding: 1px 16px;">
   <p><span class=rvts14>redirect input</span></p>
  </td>
 </tr>
 <tr valign=top>
  <td valign=top style="padding: 1px 16px;">
   <p><a class=rvts20 href="file:///E:/Utils/textutils.html#ffc_swp">/P</a></p>
  </td>
  <td valign=top style="padding: 1px 16px;">
   <p><span class=rvts14>prompt for each file</span></p>
  </td>
 </tr>
 <tr valign=top>
  <td valign=top style="padding: 1px 16px;">
   <p><span class=rvts16>/Q</span></p>
  </td>
  <td valign=top style="padding: 1px 16px;">
   <p><span class=rvts14>quietly</span></p>
  </td>
 </tr>
 <tr valign=top>
  <td valign=top style="padding: 1px 16px;">
   <p><span class=rvts16>/S</span></p>
  </td>
  <td valign=top style="padding: 1px 16px;">
   <p><span class=rvts14>search in subdirectories for matching files</span></p>
  </td>
 </tr>
 <tr valign=top>
  <td valign=top style="padding: 1px 16px;">
   <p><a class=rvts20 href="file:///E:/Utils/textutils.html#ffc_swu">/UTF8</a></p>
  </td>
  <td valign=top style="padding: 1px 16px;">
   <p><span class=rvts14>redirect output as UTF-8</span></p>
  </td>
 </tr>
 <tr valign=top>
  <td valign=top style="padding: 1px 16px;">
   <p><a class=rvts20 href="file:///E:/Utils/textutils.html#ffc_swu">/UTF16</a></p>
  </td>
  <td valign=top style="padding: 1px 16px;">
   <p><span class=rvts14>redirect output as UTF-16</span></p>
  </td>
 </tr>
 <tr valign=top>
  <td valign=top style="padding: 1px 16px;">
   <p><span class=rvts14>…</span></p>
  </td>
  <td valign=top style="padding: 1px 16px;">
   <p><a class=rvts21 href="file:///E:/Utils/textutils.html#ranges">Range options</a><span class=rvts14> are also supported.</span></p>
  </td>
 </tr>
 <tr valign=top>
  <td valign=top style="padding: 1px 16px;">
   <p><span class=rvts18>filespec…</span></p>
  </td>
  <td valign=top style="padding: 1px 16px;">
   <p><span class=rvts14>the files to process; at least one filespec is required</span></p>
  </td>
 </tr>
 <tr valign=top>
  <td valign=top style="padding: 1px 16px;">
   <p><span class=rvts18>command</span></p>
  </td>
  <td valign=top style="padding: 1px 16px;">
   <p><span class=rvts14>a filter command which writes to stdout</span></p>
  </td>
 </tr>
</table>
</div>
<p class=rvps3><span class=rvts14>At least one </span><span class=rvts18>filespec</span><span class=rvts14> is required. Anything after the first unquoted colon is the command to execute; this also is required.</span></p>
<p class=rvps3><span class=rvts14>Matching files will be renamed with a .</span><span class=rvts19>ORIGINAL</span><span class=rvts14> extension, or as per </span><span class=rvts16>/B</span><span class=rvts14>. Then the specified </span><span class=rvts18>command</span><span class=rvts14> will be called, passing the new filename on its command line after any </span><span class=rvts17>args</span><span class=rvts14>, and with its output redirected to the new filename.</span></p>
<p class=rvps3><span class=rvts14>This command only supports local files. </span><span class=rvts16>CLIP:</span><span class=rvts14>, URLs, standard input, and so on are not supported.</span></p>
<p><span class=rvts22><br></span></p>
<p class=rvps3><span class=rvts16>/N</span><span class=rvts14> by itself prevents </span><span class=rvts16>FILTERFILES</span><span class=rvts14> from doing anything. Matching files will be displayed but not renamed, and the </span><span class=rvts18>command</span><span class=rvts14> will not be executed.</span></p>
<p class=rvps3><span class=rvts16>/N</span><span class=rvts14> with suboptions disables features:</span></p>
<div class=rvps4>
<table border=0 cellpadding=8 cellspacing=2 style="border-width: 0px; background-color: #ffffff; border-spacing: 2px;">
 <tr valign=top>
  <td valign=top style="padding: 1px 16px;">
   <p><span class=rvts16>/NC</span></p>
  </td>
  <td valign=top style="padding: 1px 16px;">
   <p><span class=rvts14>disable </span><a class=rvts21 href="file:///E:/Utils/textutils.html#highlight">highlight</a></p>
  </td>
 </tr>
 <tr valign=top>
  <td valign=top style="padding: 1px 16px;">
   <p><span class=rvts16>/ND</span></p>
  </td>
  <td valign=top style="padding: 1px 16px;">
   <p><span class=rvts14>do not search into hidden directories; only useful with </span><span class=rvts16>/S</span></p>
  </td>
 </tr>
 <tr valign=top>
  <td valign=top style="padding: 1px 16px;">
   <p><span class=rvts16>/NF</span></p>
  </td>
  <td valign=top style="padding: 1px 16px;">
   <p><span class=rvts14>suppress the file-not-found error</span></p>
  </td>
 </tr>
 <tr valign=top>
  <td valign=top style="padding: 1px 16px;">
   <p><span class=rvts16>/NJ</span></p>
  </td>
  <td valign=top style="padding: 1px 16px;">
   <p><span class=rvts14>do not search into junctions; only useful with </span><span class=rvts16>/S</span></p>
  </td>
 </tr>
 <tr valign=top>
  <td valign=top style="padding: 1px 16px;">
   <p><span class=rvts16>/NZ</span></p>
  </td>
  <td valign=top style="padding: 1px 16px;">
   <p><span class=rvts14>do not search into system directories; only useful with </span><span class=rvts16>/S</span></p>
  </td>
 </tr>
</table>
</div>
<p class=rvps3><span class=rvts14>You can combine these, </span><span class=rvts23>e.g.</span><span class=rvts14> </span><span class=rvts16>/NDJ</span><span class=rvts14>.</span></p>
<p><span class=rvts22><br></span></p>
<p class=rvps3><span class=rvts16>/P</span><span class=rvts14> causes </span><span class=rvts16>FILTERFILES</span><span class=rvts14> to prompt before processing each file. You can press:</span></p>
<div class=rvps4>
<table border=0 cellpadding=8 cellspacing=2 style="border-width: 0px; background-color: #ffffff; border-spacing: 2px;">
 <tr valign=top>
  <td valign=top style="padding: 1px 16px;">
   <p><span class=rvts24>Y</span></p>
  </td>
  <td valign=top style="padding: 1px 16px;">
   <p><span class=rvts14>to filter the file</span></p>
  </td>
 </tr>
 <tr valign=top>
  <td valign=top style="padding: 1px 16px;">
   <p><span class=rvts24>N</span><span class=rvts14> or </span><span class=rvts24>Esc</span></p>
  </td>
  <td valign=top style="padding: 1px 16px;">
   <p><span class=rvts14>to skip the file</span></p>
  </td>
 </tr>
 <tr valign=top>
  <td valign=top style="padding: 1px 16px;">
   <p><span class=rvts24>A</span></p>
  </td>
  <td valign=top style="padding: 1px 16px;">
   <p><span class=rvts14>to stop prompting and filter all remaining files</span></p>
  </td>
 </tr>
 <tr valign=top>
  <td valign=top style="padding: 1px 16px;">
   <p><span class=rvts24>Q</span></p>
  </td>
  <td valign=top style="padding: 1px 16px;">
   <p><span class=rvts14>to exit immediately</span></p>
  </td>
 </tr>
</table>
</div>
<p><span class=rvts22><br></span></p>
<p class=rvps3><span class=rvts16>/UTF8</span><span class=rvts14> and </span><span class=rvts16>/UTF16</span><span class=rvts14> let you set the output encoding. They call </span><span class=rvts16>OPTION //UnicodeOutput=</span><span class=rvts14> and </span><span class=rvts16>OPTION //UTF8Output=</span><span class=rvts14> before processing files, and then restore the original settings before </span><span class=rvts16>FILTERFILES</span><span class=rvts14> exits. Note that </span><span class=rvts16>//UTF8Output</span><span class=rvts14> does not actually work in TCC/LE.</span></p>
<p><span class=rvts22><br></span></p>
<p class=rvps3><span class=rvts14>By default, </span><span class=rvts16>FILTERFILES</span><span class=rvts14> passes each original filename to the </span><span class=rvts18>command</span><span class=rvts14> on its command line:</span></p>
<p class=rvps5><span class=rvts16>filtercmd "file.original" &gt; "file.txt"</span></p>
<p class=rvps3><span class=rvts14>If you specify </span><span class=rvts16>/J</span><span class=rvts14>, it will use input redirection instead:</span></p>
<p class=rvps5><span class=rvts16>filtercmd &lt; "file.original" &gt; "file.txt"</span></p>
<p><span class=rvts22><br></span></p>
<p class=rvps3><span class=rvts16>FILTERFILES</span><span class=rvts14> is mainly intended for use with the filters in this plugin: </span><a class=rvts20 href="file:///E:/Utils/textutils.html#dedup">DEDUP</a><span class=rvts14>, </span><a class=rvts20 href="file:///E:/Utils/textutils.html#degas">DEGAS</a><span class=rvts14>, </span><a class=rvts20 href="file:///E:/Utils/textutils.html#dehtml">DEHTML</a><span class=rvts14>, </span><a class=rvts20 href="file:///E:/Utils/textutils.html#wrap">WRAP</a><span class=rvts14>, and so on. But you can use it with any command that either accepts a filename on its command line or reads from standard input, and that writes text to standard output.</span></p>
<p><span class=rvts22><br></span></p>
<p class=rvps5><span class=rvts16>rem &nbsp; Convert all .TXT file in the current directory to Pig Latin:</span><br><span class=rvts16></span><br><span class=rvts16>filterfiles *.txt : </span><a class=rvts20 href="file:///E:/Utils/textutils.html#oink">oink</a></p>
<p><span class=rvts22><br></span></p>
<p class=rvps5><span class=rvts16>rem &nbsp; Add line numbers to MyFile.txt:</span><br><span class=rvts16></span><br><span class=rvts16>filterfiles myfile.txt : type /L</span></p>
<p><span class=rvts22><br></span></p>
<p><span class=rvts8><br></span></p>
<table width="100%" border=1 cellpadding=3 cellspacing=-1 style="border-color: #000000; border-style: solid; border-collapse: collapse;">
 <tr valign=top>
  <td width=530 style="border-color: #c0c0c0; border-style: solid; padding: 3px; background-color: #f0f0f0;">
   <p><span class=rvts12>Source</span><span class=rvts10>:</span><span class=rvts11> </span><a class=rvts13 href="file:///E:/Utils/textutils.html#filterfiles">Passes files through a text filter command.</a><span class=rvts11> &nbsp;</span><span class=rvts10>(26 July 2023 7:01 PM)</span></p>
  </td>
 </tr>
</table>
<p><span class=rvts6><br></span></p>
<p class=rvps2><span class=rvts6><br></span></p>
</body></html>
